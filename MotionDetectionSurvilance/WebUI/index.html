<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <div class="image"><img src="" id="img" alt=""></div>
    <div class="controls">
        <form onsubmit="return false">
            <div>
                <label for="Noise">Noise</label>
                <input type="range" name="Noise" min="0" max="200" id="Noise">
            </div>
            <div>
                <label for="Multiplier">Multiplier</label>
                <input type="range" name="Multiplier" min="100" max="5000" id="Multiplier">
            </div>
        </form>
    </div>

    <script>
        var url = "http://192.168.1.104:8081";

        var sendReq = function () {
            var req = new XMLHttpRequest();
            req.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    document.getElementById('img').setAttribute('src',
                        'data:image/png;base64,' + this.responseText)
                        sendReq();
                }
            }

            req.open("GET",url+'/image',true);
            req.send();
        }
    </script>
    <script src="main.js"></script>
</body>

</html>